# é…ç½® QQ é‚®ç®±æ­¥éª¤

## ðŸ“‹ å½“å‰é…ç½®çŠ¶æ€

æ ¹æ®æ‚¨çš„ `.env` æ–‡ä»¶ï¼Œå½“å‰é…ç½®ï¼š
- âŒ `EMAIL_CLIENT_TYPE=imap` ï¼ˆåº”è¯¥æ˜¯ `qq`ï¼‰
- âŒ ç¼ºå°‘ `EMAIL_ADDRESS` é…ç½®
- âŒ ç¼ºå°‘ `EMAIL_PASSWORD` é…ç½®

## ðŸ”§ ä¿®æ”¹ .env æ–‡ä»¶

è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤ä¿®æ”¹æ‚¨çš„ `.env` æ–‡ä»¶ï¼š

### æ­¥éª¤ 1ï¼šæ‰“å¼€ .env æ–‡ä»¶

```bash
nano .env
# æˆ–ä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨
# code .env
# vim .env
```

### æ­¥éª¤ 2ï¼šä¿®æ”¹é…ç½®

æ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶ä¿®æ”¹ï¼š

```bash
# åŽŸæ¥çš„é…ç½®ï¼ˆéœ€è¦ä¿®æ”¹ï¼‰
EMAIL_CLIENT_TYPE=imap

# æ”¹ä¸ºï¼ˆä½¿ç”¨ QQ é‚®ç®±ï¼‰
EMAIL_CLIENT_TYPE=qq
```

### æ­¥éª¤ 3ï¼šæ·»åŠ  QQ é‚®ç®±é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```bash
# ===== QQ é‚®ç®±é…ç½® =====
# æ‚¨çš„ QQ é‚®ç®±åœ°å€
EMAIL_ADDRESS=ä½ çš„QQå·@qq.com

# QQ é‚®ç®±æŽˆæƒç ï¼ˆä¸æ˜¯ QQ å¯†ç ï¼ï¼‰
EMAIL_PASSWORD=ä½ çš„16ä½æŽˆæƒç 

# å‘é€æ¯æ—¥æ€»ç»“çš„é‚®ç®±ï¼ˆç”¨äºŽç­›é€‰ï¼‰
EMAIL_FILTER_SENDER=seatre@icloud.com

# æŽ¥æ”¶åˆ†æžç»“æžœçš„é‚®ç®±
SUMMARY_RECIPIENT=seatre@foxmail.com
```

### æ­¥éª¤ 4ï¼šèŽ·å– QQ é‚®ç®±æŽˆæƒç 

å¦‚æžœæ‚¨è¿˜æ²¡æœ‰æŽˆæƒç ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤èŽ·å–ï¼š

1. **ç™»å½• QQ é‚®ç®±**
   - è®¿é—®ï¼šhttps://mail.qq.com
   - ä½¿ç”¨æ‚¨çš„ QQ å·å’Œå¯†ç ç™»å½•

2. **è¿›å…¥è®¾ç½®**
   - ç‚¹å‡»é¡µé¢å³ä¸Šè§’"è®¾ç½®"
   - é€‰æ‹©"è´¦æˆ·"æ ‡ç­¾

3. **å¼€å¯ IMAP/SMTP æœåŠ¡**
   - æ‰¾åˆ°"POP3/IMAP/SMTP/Exchange/CardDAV/CalDAVæœåŠ¡"
   - æ‰¾åˆ°"IMAP/SMTPæœåŠ¡"
   - ç‚¹å‡»"å¼€å¯"

4. **ç”ŸæˆæŽˆæƒç **
   - ç³»ç»Ÿä¼šè¦æ±‚å‘é€çŸ­ä¿¡éªŒè¯
   - æŒ‰æç¤ºç”¨æ‰‹æœºå‘é€æŒ‡å®šå†…å®¹åˆ°æŒ‡å®šå·ç 
   - å‘é€æˆåŠŸåŽï¼Œé¡µé¢ä¼šæ˜¾ç¤ºä¸€ä¸ª **16 ä½æŽˆæƒç **
   - **ç«‹å³å¤åˆ¶ä¿å­˜è¿™ä¸ªæŽˆæƒç ï¼**

5. **å¡«å…¥ .env æ–‡ä»¶**
   ```bash
   EMAIL_PASSWORD=ä½ å¤åˆ¶çš„16ä½æŽˆæƒç 
   ```

## ðŸ“ å®Œæ•´çš„ .env é…ç½®ç¤ºä¾‹

```bash
# ===== é‚®ä»¶å®¢æˆ·ç«¯ç±»åž‹é…ç½® =====
EMAIL_CLIENT_TYPE=qq

# ===== QQ é‚®ç®±é…ç½® =====
EMAIL_ADDRESS=12345678@qq.com
EMAIL_PASSWORD=abcdefghijklmnop

# é‚®ä»¶ç­›é€‰å‘ä»¶äºº
EMAIL_FILTER_SENDER=seatre@icloud.com

# æ€»ç»“ç»“æžœæŽ¥æ”¶é‚®ç®±
SUMMARY_RECIPIENT=seatre@foxmail.com

# ===== Gemini AI é…ç½® =====
GEMINI_API_KEY=ä½ çš„Gemini_API_Key

# ===== æ—¥å¿—é…ç½® =====
LOG_LEVEL=INFO

# ===== åŽ†å²è®°å½•é…ç½® =====
SAVE_HISTORY=true
HISTORY_LEVEL=detailed
```

## âœ… éªŒè¯é…ç½®

é…ç½®å®ŒæˆåŽï¼Œè¿è¡Œæµ‹è¯•è„šæœ¬ï¼š

```bash
python test_qq_email.py
```

æµ‹è¯•è„šæœ¬ä¼šï¼š
1. âœ“ æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®
2. âœ“ æµ‹è¯•è¿žæŽ¥åˆ° QQ é‚®ç®±
3. âœ“ æµ‹è¯•è¯»å–é‚®ä»¶
4. âœ“ æµ‹è¯•å‘é€é‚®ä»¶ï¼ˆå¯é€‰ï¼‰

## ðŸš¨ å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼š535 Authentication failed

**åŽŸå› **ï¼š
- ä½¿ç”¨äº† QQ å¯†ç è€Œä¸æ˜¯æŽˆæƒç 
- æŽˆæƒç é”™è¯¯
- æœªå¼€å¯ IMAP/SMTP æœåŠ¡

**è§£å†³**ï¼š
- ç¡®è®¤ä½¿ç”¨çš„æ˜¯æŽˆæƒç 
- é‡æ–°ç”ŸæˆæŽˆæƒç 
- ç¡®è®¤ IMAP/SMTP æœåŠ¡å·²å¼€å¯

### é—®é¢˜ 2ï¼šæ‰¾ä¸åˆ° EMAIL_ADDRESS

**åŽŸå› **ï¼š
- .env æ–‡ä»¶ä¸­æ²¡æœ‰é…ç½® `EMAIL_ADDRESS`

**è§£å†³**ï¼š
- åœ¨ .env æ–‡ä»¶ä¸­æ·»åŠ  `EMAIL_ADDRESS=ä½ çš„QQé‚®ç®±`

### é—®é¢˜ 3ï¼šè¿žæŽ¥è¶…æ—¶

**åŽŸå› **ï¼š
- ç½‘ç»œé—®é¢˜
- é˜²ç«å¢™é˜»æ­¢

**è§£å†³**ï¼š
- æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
- ç¡®ä¿é˜²ç«å¢™å…è®¸ 993ï¼ˆIMAPï¼‰å’Œ 587ï¼ˆSMTPï¼‰ç«¯å£

## ðŸŽ¯ å¿«é€Ÿé…ç½®å‘½ä»¤

å¦‚æžœæ‚¨æƒ³å¿«é€Ÿåˆ›å»ºé…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# å¤‡ä»½çŽ°æœ‰é…ç½®
cp .env .env.backup

# åœ¨ .env æ–‡ä»¶æœ«å°¾æ·»åŠ  QQ é‚®ç®±é…ç½®
cat >> .env << 'EOF'

# ===== QQ é‚®ç®±é…ç½® =====
EMAIL_CLIENT_TYPE=qq
EMAIL_ADDRESS=ä½ çš„QQå·@qq.com
EMAIL_PASSWORD=ä½ çš„16ä½æŽˆæƒç 
EOF

# ç¼–è¾‘å¹¶å¡«å…¥å®žé™…å€¼
nano .env
```

## ðŸ“ž éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æžœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹æµ‹è¯•è„šæœ¬çš„é”™è¯¯æç¤º
2. æŸ¥çœ‹ QQ é‚®ç®±é…ç½®æŒ‡å—ï¼š`QQé‚®ç®±é…ç½®æŒ‡å—.md`
3. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ï¼š`logs/workflow_*.log`

